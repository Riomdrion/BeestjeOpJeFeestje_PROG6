@model BeestjeOpJeFeestje_PROG6.ViewModel.BookingWizardVM

@{
    ViewData["Title"] = "Booking Wizard";
}

<h2>Booking Wizard</h2>

<!-- Step 1 Modal: Select Date -->
<div class="modal fade" id="step1Modal" tabindex="-1" aria-labelledby="step1ModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="step1ModalLabel">Step 1: Select Date</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="step1Form">
                    <div class="mb-3">
                        <label for="eventDate" class="form-label">Event Date</label>
                        <input type="date" class="form-control" id="eventDate" name="Date" required>
                    </div>
                    <button type="button" class="btn btn-primary" onclick="showStep2()">Next</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Step 2 Modal: Select Animals -->
<div class="modal fade" id="step2Modal" tabindex="-1" aria-labelledby="step2ModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="step2ModalLabel">Step 2: Select Animals</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="step2Form">
                    <div class="mb-3">
                        <label class="form-label">Available Animals</label>
                        @foreach (var animal in Model.AvailableAnimals)
                        {
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="animal-@animal.Id" name="AnimalIds" value="@animal.Id">
                                <label class="form-check-label" for="animal-@animal.Id">@animal.Name</label>
                            </div>
                        }
                    </div>
                    <button type="button" class="btn btn-primary" onclick="showStep3()">Next</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Step 3 Modal: Enter Contact Info -->
<div class="modal fade" id="step3Modal" tabindex="-1" aria-labelledby="step3ModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="step3ModalLabel">Step 3: Enter Contact Info</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="step3Form">
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="User.Email" required>
                    </div>
                    <button type="button" class="btn btn-primary" onclick="showStep4()">Next</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Step 4 Modal: Confirm Booking -->
<div class="modal fade" id="step4Modal" tabindex="-1" aria-labelledby="step4ModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="step4ModalLabel">Step 4: Confirm Booking</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>Date:</strong> <span id="confirmDate"></span></p>
                <p><strong>Animals:</strong> <span id="confirmAnimals"></span></p>
                <p><strong>Email:</strong> <span id="confirmEmail"></span></p>
                <button type="submit" form="step3Form" class="btn btn-success">Confirm Booking</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
    $('#step1Modal').modal('show');
    });
    
    function showStep2() {
        $('#step1Modal').modal('hide');
        $('#step2Modal').modal('show');
    }

    function showStep3() {
        $('#step2Modal').modal('hide');
        $('#step3Modal').modal('show');
    }

    function showStep4() {
        $('#step3Modal').modal('hide');
        $('#step4Modal').modal('show');
    }

</script>

<!-- Bootstrap CSS and JS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
